!function(){let t,e,l={zh:{langName:"中文",title:"模拟赛车燃油计算器",docTitle:"模拟赛车燃油计算器",introNote:"快速计算任何模拟赛车游戏（包括 ACC、iRacing、Assetto Corsa Evo、AMS2 等）的正确燃油量。只需输入每圈燃油量、比赛距离和油箱容量，即可查看需要进站次数和起始燃油量。",inputsHeader:"输入",resultsHeader:"结果",lblRaceTime:"比赛时间",lblLapTime:"平均单圈时间",lblFuelPerLap:"每圈油耗",lblTankCapacity:"油箱油量",placeholderHours:"小时",placeholderMinutes:"分钟",placeholderLapMin:"分",placeholderLapSec:"秒",sufHours:"小时",sufMinutes:"分钟",sufLapMin:"分",sufLapSec:"秒",sufFuelPerLap:"升/圈",sufTankCapacity:"升",btnCalculate:"计算",btnReset:"清空",lblTotalLaps:"总圈数",lblPitStops:"需要进站加油（次数）",lblMinFuel:"完赛最低需要燃油量",lblSafeFuel:"安全燃油（总圈数+2）",lblLapsPerStint:"每段比赛圈数（每箱）",lblLastStintLaps:"最后阶段圈数",lblStintFuelList:"每段行程的燃油消耗",lblLastStintFuel:"最后阶段的燃料量",formulaNote:"说明：总圈数按 ⌊比赛总时长 ÷ 平均单圈时间⌋ 计算。",cannotCompleteLap:"无法完成一圈（油箱容量过小）",unitLiter:"升"},en:{langName:"English",title:"Sim Racing Fuel Calculator",docTitle:"Sim Racing Fuel Calculator",introNote:"Quickly calculate the right fuel for any sim racing game (ACC, iRacing, Assetto Corsa Evo, AMS2, etc.). Enter fuel per lap, race duration and tank capacity to see pit stops and starting fuel.",inputsHeader:"Inputs",resultsHeader:"Results",lblRaceTime:"Race duration",lblLapTime:"Average lap time",lblFuelPerLap:"Fuel per lap",lblTankCapacity:"Tank capacity",placeholderHours:"Hours",placeholderMinutes:"Minutes",placeholderLapMin:"Min",placeholderLapSec:"Sec",sufHours:"h",sufMinutes:"min",sufLapMin:"min",sufLapSec:"sec",sufFuelPerLap:"L/lap",sufTankCapacity:"L",btnCalculate:"Calculate",btnReset:"Reset",lblTotalLaps:"Total laps",lblPitStops:"Pit stops (count)",lblMinFuel:"Minimum fuel to finish",lblSafeFuel:"Safe fuel (laps+2)",lblLapsPerStint:"Laps per stint (per tank)",lblLastStintLaps:"Last stint laps",lblStintFuelList:"Fuel for first stint",lblLastStintFuel:"Fuel for last stint",formulaNote:"Note: Total laps = ⌊race duration ÷ average lap time⌋.",cannotCompleteLap:"Cannot complete a lap (tank capacity too small)",unitLiter:"L"}},a="zh";function n(t){let e=l[t]||l.zh;for(let[l,n]of(a=t,document.documentElement.setAttribute("lang","zh"===t?"zh-CN":"en"),document.title=e.docTitle,[["title","title"],["introNote","introNote"],["inputsHeader","inputsHeader"],["resultsHeader","resultsHeader"],["lblRaceTime","lblRaceTime"],["lblLapTime","lblLapTime"],["lblFuelPerLap","lblFuelPerLap"],["lblTankCapacity","lblTankCapacity"],["sufHours","sufHours"],["sufMinutes","sufMinutes"],["sufLapMin","sufLapMin"],["sufLapSec","sufLapSec"],["sufFuelPerLap","sufFuelPerLap"],["sufTankCapacity","sufTankCapacity"],["calculateBtn","btnCalculate"],["resetBtn","btnReset"],["lblTotalLaps","lblTotalLaps"],["lblPitStops","lblPitStops"],["lblMinFuel","lblMinFuel"],["lblSafeFuel","lblSafeFuel"],["lblLapsPerStint","lblLapsPerStint"],["lblLastStintLaps","lblLastStintLaps"],["lblStintFuelList","lblStintFuelList"],["lblLastStintFuel","lblLastStintFuel"],["formulaNote","formulaNote"]])){let t=document.getElementById(l);t&&void 0!==e[n]&&(t.textContent=e[n])}let n=document.getElementById("raceHours"),i=document.getElementById("raceMinutes"),u=document.getElementById("lapMinutes"),s=document.getElementById("lapSeconds"),r=document.getElementById("fuelPerLap"),o=document.getElementById("tankCapacity");n&&(n.placeholder=e.placeholderHours),i&&(i.placeholder=e.placeholderMinutes),u&&(u.placeholder=e.placeholderLapMin),s&&(s.placeholder=e.placeholderLapSec),r&&(r.placeholder="zh"===t?"例如 2.75":"e.g. 2.75"),o&&(o.placeholder="zh"===t?"例如 100":"e.g. 100");let p=document.getElementById("langSelect");p&&(p.value=t)}function i(t){return""===t||null==t?NaN:Number(t)}function u(t){return isFinite(t)&&t>=0?t:NaN}function s(t,e){if(!isFinite(t))return NaN;let l=Math.pow(10,e);return Math.ceil(t*l-1e-10)/l}function r(t){if(!isFinite(t))return"-";let e=l[a]||l.zh;return`${t.toFixed(2)} ${e.unitLiter}`}function o(t){return document.getElementById(t)}function p(t,e,l){let{duration:a=500,decimals:n=0,formatter:i=t=>String(t)}=l||{},u=function(t){if(!t||"-"===t)return NaN;let e=String(t).match(/-?\d+(?:\.\d+)?/);return e?Number(e[0]):NaN}(t.textContent);if(!isFinite(u)){t.textContent=i(Number(e)),c(t);return}let s=performance.now();requestAnimationFrame(function l(r){let o=Math.min(1,(r-s)/a),p=u+(e-u)*(1-Math.pow(1-o,3));t.textContent=i(n>0?Number(p.toFixed(n)):Math.round(p)),o<1?requestAnimationFrame(l):(t.textContent=i(e),c(t))})}function c(t){let e=t.closest(".result-item");e&&(e.classList.remove("bump"),e.offsetWidth,e.classList.add("bump"))}let d={raceHours:o("raceHours"),raceMinutes:o("raceMinutes"),lapMinutes:o("lapMinutes"),lapSeconds:o("lapSeconds"),fuelPerLap:o("fuelPerLap"),tankCapacity:o("tankCapacity"),calculateBtn:o("calculateBtn"),resetBtn:o("resetBtn"),totalLaps:o("totalLaps"),pitStops:o("pitStops"),minFuel:o("minFuel"),safeFuel:o("safeFuel"),lapsPerStint:o("lapsPerStint"),lastStintLaps:o("lastStintLaps"),stintFuelList:o("stintFuelList"),lastStintFuel:o("lastStintFuel")};function m(){d.totalLaps.textContent="-",d.pitStops.textContent="-",d.minFuel.textContent="-",d.safeFuel.textContent="-",d.lapsPerStint.textContent="-",d.lastStintLaps.textContent="-",d.stintFuelList.textContent="-",d.lastStintFuel.textContent="-"}n("zh"===(t=localStorage.getItem("locale"))||"en"===t?t:(navigator.language||navigator.userLanguage||"").toLowerCase().startsWith("zh")?"zh":"en"),d.calculateBtn.addEventListener("click",function(){let t,e,n,o,{raceHours:c,raceMinutes:f,lapMinutes:L,lapSeconds:S,fuelPerLap:b,tankCapacity:F}=(t=u(i(""===d.raceHours.value?0:d.raceHours.value)),e=u(i(""===d.raceMinutes.value?0:d.raceMinutes.value)),n=u(i(""===d.lapMinutes.value?0:d.lapMinutes.value)),o=u(i(""===d.lapSeconds.value?0:d.lapSeconds.value)),{raceHours:t,raceMinutes:e,lapMinutes:n,lapSeconds:o,fuelPerLap:u(i(d.fuelPerLap.value)),tankCapacity:u(i(d.tankCapacity.value))});if(!isFinite(c)||!isFinite(f)||!isFinite(L)||!isFinite(S)||!isFinite(b)||!isFinite(F))return void m();let C=3600*c+60*f,h=60*L+S;if(C<=0||h<=0||b<=0)return void m();let g=Math.floor(C/h);if(g<=0)return void m();let M=F>0?Math.floor(F/b):0;if(M<=0){d.totalLaps.textContent=String(g),d.pitStops.textContent=(l[a]||l.zh).cannotCompleteLap;let t=s(g*b,2);d.minFuel.textContent=r(t),d.safeFuel.textContent=r(s((g+2)*b,2)),d.lapsPerStint.textContent="-",d.lastStintLaps.textContent="-",d.stintFuelList.textContent="-",d.lastStintFuel.textContent="-";return}let v=Math.floor(g/M),N=g%M,y=N>0,P=Math.max(0,(y?v+1:v)-1),T=0;T=g<=M?g:y?N:M;let x=s(g*b,2),H=s((g+2)*b,2),k=s(T*b,2),B=s(Math.min(g,M)*b,2);p(d.totalLaps,g,{duration:500,decimals:0,formatter:t=>String(t)}),p(d.pitStops,P,{duration:500,decimals:0,formatter:t=>String(t)}),p(d.minFuel,x,{duration:600,decimals:2,formatter:t=>r(Number(t))}),p(d.safeFuel,H,{duration:600,decimals:2,formatter:t=>r(Number(t))}),p(d.lapsPerStint,M,{duration:500,decimals:0,formatter:t=>String(t)}),p(d.lastStintLaps,T,{duration:500,decimals:0,formatter:t=>String(t)}),p(d.stintFuelList,B,{duration:600,decimals:2,formatter:t=>r(Number(t))}),p(d.lastStintFuel,k,{duration:600,decimals:2,formatter:t=>r(Number(t))})}),d.resetBtn.addEventListener("click",()=>{d.raceHours.value="0",d.raceMinutes.value="0",d.lapMinutes.value="0",d.lapSeconds.value="0",d.fuelPerLap.value="",d.tankCapacity.value="",m()}),(e=document.getElementById("langSelect"))&&e.addEventListener("change",()=>{let t="en"===e.value?"en":"zh";localStorage.setItem("locale",t),n(t)}),m()}();
//# sourceMappingURL=Sim-Racing-Fuel--Calculator.475d65e0.js.map
